<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link href="/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <title>Profile</title>
    <style>
      .main-box {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-left: 1rem;
      }
      .card {
        margin-top: 1.5rem;
        margin-bottom: 2rem;
      }
      h2 {
        text-align: center;
        margin-top: 2rem;
      }
      .center-chat-btn{
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 1rem;
      }
    </style>
</head>
<body>
  <div class="container-fluid">
    <header class="d-flex justify-content-center py-3 border-bottom mb-4">
      <ul class="nav nav-pills">
        <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
        <li class="nav-item"><a href="/employer/dashboard" class="nav-link">Dashboard</a></li>
        <li class="nav-item"><a href="/logout" class="nav-link">Logout</a></li>
      </ul>
    </header>
  </div>
  <h2>Profile Overview</h2>
  <div class="main-box">
    <div class="card" style="width: 30rem;">
  <ul class="list-group list-group-flush">
    <li class="list-group-item"><b>Name:</b> &nbsp; &nbsp;<%= user_data.name %></li>
    <li class="list-group-item"><b>Email:</b> &nbsp; &nbsp;<%= user_data.email %></li>
    <li class="list-group-item"><b>Title:</b> &nbsp; &nbsp;&nbsp;&nbsp;<%= freelancer_data.title %></li>
    <li class="list-group-item"><b>Skills:</b> &nbsp; &nbsp;&nbsp;&nbsp;<%= freelancer_data.skills %></li>
    <li class="list-group-item"><b>Bio:</b> &nbsp; &nbsp;&nbsp;&nbsp;<%= freelancer_data.bio %></li>
   <% if (job_count.total_job_count > 0) { %>
    <li class="list-group-item"><b>Completed Jobs:</b> &nbsp;&nbsp;&nbsp;<%= job_count.total_job_count %></li>
<% } %>

<% if (earnings.total_earnings > 0) { %>
    <li class="list-group-item"><b>Total Earnings:</b> &nbsp;&nbsp;&nbsp;$<%= earnings.total_earnings %></li>
<% } %>

<% if (rating.average_rating > 0) { %>
    <li class="list-group-item"><b>Average Rating:</b> &nbsp;&nbsp;&nbsp;<%= parseFloat(rating.average_rating).toFixed(1) %></li>
<% } %>

    <% if(jobs_hist.length>0) { %>
    <li class="list-group-item"><b>Jobs History:</b> &nbsp; &nbsp;&nbsp;&nbsp; 
      <% for (let job of jobs_hist) { %>
        <ul>
        <li><b>Job Title</b>: <%= job.job_title %></li>
        <li><b>Amount</b>: <%= job.budget %></li>
        <li><b>Review</b>: <%= job.review %></li>
        <br>
      </ul>  
      <%}%>
    </li> 
  </ul>
  <%}%>
  <div class="center-chat-btn">
  <li class="list-group-item"><a href="/employer/new-chat/<%= user_data.user_id %>"><button type="button" class="btn btn-primary">Chat</button></a></li>
  </div>
</div>
</div>
</body>